version: '3.3'


services:
  fullstack-backend:
    container_name: fullstack-backend
    image: fullstack-backend
    build: .
    expose:
      - 8000
    volumes:
     - .:/home/app
     - node_modules:/home/app/node_modules
    links:
      - fullstack-postgres
    # user: 
    #   ${CURRENT_UID}

  fullstack-postgres:
    container_name: fullstack-postgres
    image: postgres:10
    volumes:
      - ./volumes/db:/var/lib/postgresql/data


volumes: 
  node_modules:

networks:
  default:
    external:
      name: fullstack

